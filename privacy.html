<!DOCTYPE html>
<html lang="en">
    <head>
        <title> Privacy. </title>
        <link rel="preload" href="js/jquery.js" as="script">
        <link rel="preload" href="js/loading.js" as="script">
        <link rel="preload" href="css/loading.css" as="style">
        <link rel="stylesheet" href="css/loading.css">
        <link rel="stylesheet" href="css/style.css">
        <link rel="manifest" href="manifest.json">
        <link rel="icon" href="resources/icon.ico">
        <link rel="apple-touch-icon" href="resources/512.png">
        <meta name="description" content="Calculate how much you are going to earn from your Gumroad Sales.">
        <meta name="twitter:card" content="summary"></meta>
        <meta name="twitter:title" content="Gumroad Calculator.">
        <meta name="twitter:creator" content="@DevLBD">
        <meta name="twitter:description" content="Calculate how much you are going to earn from your Gumroad Sales.">
        <meta property="twitter:image" content="resources/512.png">
        <meta name="theme-color" content="rgb(0, 10, 37)">
        <meta name="viewport" content="width=device-width, height=device-height, initial-scale=0.90, user-scalable=no">
        <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined&display=swap" rel="stylesheet">
    </head>
    <body>
        <div class="glass" id="loading-window">
            <div class="text-loading">
                <h2 align="center" class="loading-h2">Gumroad Calculator</h2>
                <p align="center" class="loading-p">Created by Lorenzo Barretta.</p>
            </div>
            <div class="form-space"></div>
            <div class="animation-loading"></div>
            <div class="form-space"></div>
            <div class="offline-notification closed">
                <h3>The page is taking too much time to load.</h3>
                <p>Please check your connection. <br> If you want, you can continue to use the web app or reload the page.</p>
                <div class="form-space"></div>
                <div class="group-buttons">
                    <button class="offline reload">Reload</button>
                    <div class="buttons-space"></div>
                    <button class="offline continue">Continue Anywas</button>
                </div>
            </div>
        </div>
        <div class="glass closed" id="update-window">
            <div class="text-loading" id="text-install">
                <h2 align="center" class="install-h2">An update is ready to install.</h2>
                <div class="buttons-space"></div>
                <p align="center" class="install-p">A new update for Gumroad Calculator has been released, and is waiting to be installed. <br>  <br> Would you like to install it now? <br> <span class="price-span"> This will only take a few seconds. </span> </p>
                <div class="install-space"></div>
                <div class="install-buttons">
                    <button class="offline install-update">Install Now</button>
                    <div class="buttons-space"></div>
                    <button class="offline later">Do It Later</button>
                </div>
            </div>
        </div>
        <nav class="main">
            <div class="title-nav">
                <h1 class="title">
                    <a href="https://devlbd.github.io/Gumroad-Calculator/">Gumroad Calculator</a>
                </h1>
                <div class="button-spacing"></div>
                <div class="title-button-group">
                    <a>
                        <button class="install"><span class="material-icons-round">file_download</span></button>
                    </a>
                    <div class="button-spacing"></div>
                    <a href="https://www.buymeacoffee.com/DevLBD" target="_blank">
                        <button class="coffee"></button>
                        <button class="coffee-mobile"></button>
                    </a>
                </div>
            </div>
        </nav>
        <header class="content" id="page-top">
            <div class="privacy-section">
                <h3>Privacy Policy.</h3>
                <p>The data you have entered in the app are automatically saved <span class="price-span">locally</span> in your device when you tell the app you sold the product, but those data <span class="price-span">are never sent</span> to a server.</p>
                <br>
                <p>If you wish to delete any data you entered on the app, you can do so by clicking <span class="price-span">Remove my Contents</span> at the bottom. </p>
                <br>
                <p>Google, and some third party ad vendors, use cookies to serve ads based on your interest. You may opt-out from personalized advertising from Google by visiting <a href="https://www.google.com/settings/ads">Ad Settings</a>. None of the data you enter on this website is shared with Google or other third-parties, though.</p>
            </div>
            <div class="form-space"></div>
            <button type="button" class="form-confirm" onclick="window.location.href = 'https://devlbd.github.io/Gumroad-Calculator'">Go Back</button>
            <div class="end-space"></div>
        </header>
        <footer class="footer-bottom">
            <div class="footer-text">
                <p class="footer">Copyright 2021 Lorenzo Barretta. <br> Made with <span class="heart">ðŸ’–</span> in Pescara, Italy.</p>
                <br>
                <p class="footer">Gumroad is a trademark of Gumroad, Inc.</p>
            </div>
            <div class="scroll">
                <p class="footer"><a href="#page-top" class="back-to-top">Back to Top&nbsp;<span class="material-icons north">north</span></a> <br> <a onclick="clearData()">Remove my Contents <span class="material-icons-outlined trash">delete</span></a><br> <a href="https://devlbd.github.io/Gumroad-Calculator/privacy">About my Privacy <span class="material-icons-outlined trash">policy</span></a></p>             
            </div>
        </footer>
        <script src="js/jquery.js"></script>
        <script src="js/loading.js"></script>
        <script src="js/script.js"></script>
        <script src="js/install.js"></script>
        <script>
            function invokeServiceWorkerUpdateFlow(registration) {
                setTimeout(function(){
                    $("#update-window").removeClass("closed");
                }, 3500);
                $(".install-update").click(function() {
                if (registration.waiting) {
                    registration.waiting.postMessage('SKIP_WAITING');
                }
            });
                $(".later").click(function() {
                    $("#update-window").addClass("closed");
                }) 
            };

            if ('serviceWorker' in navigator) {
                window.addEventListener('load', async () => {
                const registration = await navigator.serviceWorker.register('https://devlbd.github.io/Gumroad-Calculator/sw.js');
                if (registration.waiting) {
                    invokeServiceWorkerUpdateFlow(registration);
                }
                registration.addEventListener('updatefound', () => {
                    if (registration.installing) {
                    registration.installing.addEventListener('statechange', () => {
                        if (registration.waiting) {
                            if (navigator.serviceWorker.controller) {
                                invokeServiceWorkerUpdateFlow(registration);
                        } else {
                            console.log('Service Worker initialized for the first time');
                        }
                    }
                })
            }
            });

            let refreshing = false;

            navigator.serviceWorker.addEventListener('controllerchange', () => {
                    if (!refreshing) {
                        window.location.reload()
                        refreshing = true
                    }
                })
            })
        }
        </script>
    </body>
</html>